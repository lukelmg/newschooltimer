<html>

<body onload="read();">
  Timer
  <br />
  <p id="output"></p>
  <p id="time"></p>
  <p id="time0"></p>
    <p id="time1"></p>
      <p id="time2"></p>
        <p id="time3"></p>
          <p id="time4"></p>
            <p id="time5"></p>
              <p id="time6"></p>
</body>

</html>

<style>
  body {
    font-size: 5vh;
  }
</style>


<script>
  var numberOfSchedules;
  var scheduleNames;
  var scheduleAbbreviations;
  var periodsPerSchedule;
  var periodTimes;

var periodScheduleArray = [];
var nameArray = [];
var timeArray = [];

  function read() {

    var url_string = window.location.href;
    var url = new URL(url_string);

    numberOfSchedules = url.searchParams.get("nums");
    scheduleNames = url.searchParams.get("names");
    periodTimes = url.searchParams.get("times");
    scheduleAbbreviations = url.searchParams.get("abbs");
    periodsPerSchedule = url.searchParams.get("pers");

    document.getElementById("output").innerHTML = "# of Schedules:" + numberOfSchedules + "<br> Schedule Names: " + scheduleNames + "<br> Schedule Times: " + periodTimes +
      "<br> Schedule Abbrevaitions: " + scheduleAbbreviations + "<br> Periods per schedule: " + periodsPerSchedule;

    periodScheduleArray = periodsPerSchedule.split(",");

    nameArray = scheduleNames.split(",");

    timeArray = periodTimes.split(",");


    var testArray = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K"];

/*

    var p,j,temparray,chunk = periodScheduleArray[i];
    for (p=0,j=testArray.length; p<j; p+=chunk) {
        temparray = testArray.slice(p,p+chunk);
        alert(temparray);
    }

    */


              alert(periodScheduleArray[0]);
              var p,j,temparray,chunk = 9;
                for (p=0,j=timeArray.length; p<j; p+=chunk) {
                    temparray = timeArray.slice(p,p+chunk);
                      alert(temparray);
                }



  }


var hourTest = ["17", "18", "19", "20", "21", "22", "23"];
var minTest = ["0", "10", "20", "30", "40", "50", "59"];


  (function() {

  function pad(num) {
    return ("0" + parseInt(num)).substr(-2);
  }

  function tick() {
    for (var i = 0; i < periodScheduleArray[0]; i++) {
      var start = new Date;
      start.setHours(hourTest[i], minTest[i], 0);
      var now = new Date;
      if (now > start) { // too late, go to tomorrow
        start.setDate(start.getDate() + 1);
      }
      var remain = ((start - now) / 1000);
      var hh = pad((remain / 60 / 60) % 60);
      var mm = pad((remain / 60) % 60);
      var ss = pad(remain % 60);
      document.getElementById('time' + i).innerHTML =  hh + ":" + mm + ":" + ss;
    }
    setTimeout(tick, 500);
  }

  document.addEventListener('DOMContentLoaded', tick);
})();
</script>
